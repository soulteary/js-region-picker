(function(){var e=e||{};e.scope={};e.createTemplateTagFirstArg=function(a){return a.raw=a};e.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};e.getRestArguments=function(){for(var a=Number(this),c=[],d=a;d<arguments.length;d++)c[d-a]=arguments[d];return c};
e.checkStringArgs=function(a,c,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};e.ASSUME_ES5=!1;e.ASSUME_NO_NATIVE_MAP=!1;e.ASSUME_NO_NATIVE_SET=!1;e.SIMPLE_FROUND_POLYFILL=!1;e.ISOLATE_POLYFILLS=!1;e.FORCE_POLYFILL_PROMISE=!1;e.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
e.defineProperty=e.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){if(a==Array.prototype||a==Object.prototype)return a;a[c]=d.value;return a};e.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};e.global=e.getGlobal(this);
e.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");e.TRUST_ES6_POLYFILLS=!e.ISOLATE_POLYFILLS||e.IS_SYMBOL_NATIVE;e.polyfills={};e.propertyToPolyfillSymbol={};e.POLYFILL_PREFIX="$jscp$";e.polyfill=function(a,c,d,l){c&&(e.ISOLATE_POLYFILLS?e.polyfillIsolated(a,c,d,l):e.polyfillUnisolated(a,c,d,l))};
e.polyfillUnisolated=function(a,c){var d=e.global;a=a.split(".");for(var l=0;l<a.length-1;l++){var m=a[l];if(!(m in d))return;d=d[m]}a=a[a.length-1];l=d[a];c=c(l);c!=l&&null!=c&&e.defineProperty(d,a,{configurable:!0,writable:!0,value:c})};
e.polyfillIsolated=function(a,c,d){var l=a.split(".");a=1===l.length;var m=l[0];m=!a&&m in e.polyfills?e.polyfills:e.global;for(var n=0;n<l.length-1;n++){var q=l[n];if(!(q in m))return;m=m[q]}l=l[l.length-1];d=e.IS_SYMBOL_NATIVE&&"es6"===d?m[l]:null;c=c(d);null!=c&&(a?e.defineProperty(e.polyfills,l,{configurable:!0,writable:!0,value:c}):c!==d&&(void 0===e.propertyToPolyfillSymbol[l]&&(a=1E9*Math.random()>>>0,e.propertyToPolyfillSymbol[l]=e.IS_SYMBOL_NATIVE?e.global.Symbol(l):e.POLYFILL_PREFIX+a+"$"+
l),e.defineProperty(m,e.propertyToPolyfillSymbol[l],{configurable:!0,writable:!0,value:c})))};e.polyfill("String.prototype.startsWith",function(a){return a?a:function(c,d){var l=e.checkStringArgs(this,c,"startsWith");c+="";var m=l.length,n=c.length;d=Math.max(0,Math.min(d|0,l.length));for(var q=0;q<n&&d<m;)if(l[d++]!=c[q++])return!1;return q>=n}},"es6","es3");
e.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var l=a.length,m=0;m<l;m++){var n=a[m];if(c.call(d,n,m,a))return{i:m,v:n}}return{i:-1,v:void 0}};e.polyfill("Array.prototype.findIndex",function(a){return a?a:function(c,d){return e.findInternal(this,c,d).i}},"es6","es3");
e.polyfill("Array.from",function(a){return a?a:function(c,d,l){d=null!=d?d:function(t){return t};var m=[],n="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if("function"==typeof n){c=n.call(c);for(var q=0;!(n=c.next()).done;)m.push(d.call(l,n.value,q++))}else for(n=c.length,q=0;q<n;q++)m.push(d.call(l,c[q],q));return m}},"es6","es3");e.polyfill("Object.is",function(a){return a?a:function(c,d){return c===d?0!==c||1/c===1/d:c!==c&&d!==d}},"es6","es3");
e.polyfill("Array.prototype.includes",function(a){return a?a:function(c,d){var l=this;l instanceof String&&(l=String(l));var m=l.length;d=d||0;for(0>d&&(d=Math.max(d+m,0));d<m;d++){var n=l[d];if(n===c||Object.is(n,c))return!0}return!1}},"es7","es3");e.polyfill("String.prototype.includes",function(a){return a?a:function(c,d){return-1!==e.checkStringArgs(this,c,"includes").indexOf(c,d||0)}},"es6","es3");
window.RegionPicker=function(a,c){function d(f){h.Options&&h.Options.updater&&"function"===typeof h.Options.updater&&(h.Selected=h.Selected.sort(function(b,k){return b.code<k.code?-1:b.code>k.code?1:0}),h.Options.updater(h.Selected,f,h))}function l(){for(var f=h.RegionList.map(function(p){return[(p.name||"").slice(0,1).toUpperCase(),(p.code||"").slice(0,1).toUpperCase()]}).reduce(function(p,r){p[r[0]]=!0;p[r[1]]=!0;return p},{}),b="",k=65;90>=k;k++){var g=String.fromCharCode(k);b=f[g]?b+('<span class="clickable picker-letter" data-code="'+
g+'">'+g+" </span>"):b+('<span class="clickable picker-letter-disabled">'+g+" </span>")}document.querySelector("#"+h.ComponentId+" .region-letters-container").innerHTML=b}function m(){var f=h.RegionList.map(function(b,k){var g=b.code,p=b.cname;return'\n        \n        <div class="region-picker-item">\n          <label for="region-picker-'+g+'" data-code="'+g+'" data-index="'+k+'" class="flex flex-row justify-between align-center">\n            <div class="flex flex-row align-center">\n                <img class="list__flag" src="'+
h.BaseDir+"assets/region-icon/"+("uk"===g?"gb":"tw"===g?"cn":g)+'.svg" alt="'+p+'" />\n                <div class="flex flex-col">\n                  <div class="region-picker-item-cname">'+p+'</div>\n                  <div class="region-picker-item-name">'+b.name+'</div>\n                </div>\n            </div>\n            <div class="region-checkbox">\n                <input id="region-picker-'+g+'" type="checkbox" name="region-picker" value="'+g+'" >\n                <span class="region-checkbox-elem"></span>\n            </div>\n          </label>\n        </div>'});
document.querySelector("#"+h.ComponentId+" .region-list-conatiner").innerHTML=f.join("")}function n(f){document.querySelectorAll(".region-picker-item").forEach(function(b){if("*"===f)b.classList.remove("hide");else{var k=b.querySelector(".region-picker-item-name").innerText,g=b.querySelector("label").getAttribute("data-code");k.startsWith(f)||g.startsWith(f)?b.classList.remove("hide"):b.classList.add("hide")}})}function q(){var f=h.Selected.map(function(b){var k=b.cname,g=b.code;b.icon="uk"===g?"gb":
"tw"===g?"cn":g;return'\n        <div class="region-item-selected flex flex-row flex-center" data-code="'+g+'">\n          <span>'+k+'</span>\n          <img class="btn-remove-selected" src="'+h.BaseDir+'assets/img/icon-close.svg" alt="" />\n        </div>'});d("change");document.querySelector("#"+h.ComponentId+" .region-selected-container").innerHTML=f.join("")}function t(f){if(f){var b=h.Selected,k=b.findIndex(function(g){return g.code===f});b.splice(k,1);h.Selected=b}}function x(){document.getElementById(h.ComponentId).addEventListener("click",
function(f){var b=f.target;b&&(b.closest(".region-selected-container")?-1!==(b.className||"").trim().indexOf("btn-remove-selected")&&(f=b.parentElement.getAttribute("data-code"),t(f),q(),w()):b.closest(".btn-select-all")?(f.preventDefault(),h.Selected=[],u("all")):b.closest(".btn-clear-all")?(f.preventDefault(),h.Selected=[],h.Options.preselected&&u(h.Options.preselected)):b.closest(".btn-submit")&&(f.preventDefault(),v()))})}function y(){document.querySelector("#"+h.ComponentId+" .region-list-conatiner").addEventListener("click",
function(f){(f=f.target.closest("label"))&&f.matches(".region-picker-item label")&&setTimeout(function(){var b=Array.from(document.getElementsByName("region-picker")).filter(function(k){return k.checked}).map(function(k){return k.value});h.Selected=h.RegionList.filter(function(k){return b.includes(k.code)});q()},10)})}function z(){var f=document.querySelector(".region-letters-container"),b=Array.from(f.querySelectorAll(".picker-letter"));f.addEventListener("click",function(k){k.preventDefault();k=
k.target;var g=k.getAttribute("class");g&&-1!=g.trim().indexOf("picker-letter")&&(g=k.getAttribute("data-code"))&&(k.classList.contains("picker-letter-active")?(k.classList.remove("picker-letter-active"),n("*")):(b.forEach(function(p){return p.classList.remove("picker-letter-active")}),k.classList.add("picker-letter-active"),document.querySelector(".list-container-select").textContent=g,n(g.toLowerCase())))})}function A(){var f=document.getElementById("region-search-input"),b=document.querySelectorAll("#"+
h.ComponentId+" .region-picker-item");f.addEventListener("input",function(){var k=(f.value||"").trim().toLowerCase();document.querySelector(".list-container-select").textContent="";k?(Array.from(document.querySelectorAll("#"+h.ComponentId+" .region-letters-container .picker-letter")).forEach(function(g){return g.classList.remove("picker-letter-active")}),b.forEach(function(g){var p=g.querySelector(".region-picker-item-cname").innerText,r=g.querySelector(".region-picker-item-name").innerText.toLowerCase();
p.includes(k)||r.includes(k)?g.classList.remove("hide"):g.classList.add("hide")})):b.forEach(function(g){return g.classList.remove("hide")})})}function B(f,b){var k;return function(){var g=e.getRestArguments.apply(0,arguments),p=this;k&&clearTimeout(k);k=setTimeout(function(){f.apply(p,g);k=null},b)}}function C(){var f=document.querySelector(".region-picker-container-list"),b=Array.from(document.querySelectorAll(".picker-letter")),k=B(function(){var g=Math.floor(f.scrollTop/55);0>g?g=0:g>=b.length&&
(g=b.length-1);b[g]&&(document.querySelector(".list-container-select").textContent=b[g].getAttribute("data-code"),b.forEach(function(p){p.classList.remove("picker-letter-active")}),b[g].classList.add("picker-letter-active"))},200);f.addEventListener("scroll",k)}function v(){var f=document.getElementById(h.ComponentId);f.className+=" hide";h.Visiable=!1;d("submit")}function D(){var f=document.getElementById(h.ComponentId);f.className+=" hide";h.Visiable=!1}function u(f){if(f){if("string"==typeof f){var b=
f.toLowerCase().trim();h.Selected="all"==b?h.RegionList:h.RegionList.filter(function(g){return b==g.code})}else{var k=f.map(function(g){return g.toLowerCase().trim()});h.Selected=h.RegionList.filter(function(g){return k.includes(g.code)})}q();w()}}function w(){Array.from(document.querySelectorAll("#"+h.ComponentId+" input[name=region-picker]")).forEach(function(f){h.Selected.forEach(function(b){f.value===b.code&&(f.checked=!0)})})}c=void 0===c?{}:c;var h={ComponentId:"",Options:{},BaseDir:"",Selected:[],
RegionList:[],Visiable:!1,GetSelected:function(){return this.Selected},Show:function(){var f=document.getElementById(h.ComponentId);f.className=f.className.replace(/\s?hide/g,"");h.Visiable=!0},Hide:v};return function(f,b){var k="region-picker-"+Math.random().toString(36).slice(-6);h.ComponentId=k;h.Options=b;var g=b.baseDir,p=b.preselected,r=b.visiable;h.RegionList=b.data;h.Visiable=!!r;""!=g&&(h.BaseDir=g+"/");b='\n        <div id="'+k+'" class="region-picker-container '+(h.Visiable?"":"hide")+
'">\n          <div class="nav flex flex-row align-center justify-between">\n              <div id="region-picker-container-cancel" class="nav-left">\u8fd4\u56de</div>\n              <div class="nav-middle">\u9009\u62e9\u67e5\u8be2\u56fd\u5bb6</div>\n              <div id="region-picker-container-sure" class="btn-submit">\u786e\u5b9a</div>\n          </div>\n        \n          <div class="area-select">\n            <div class="flex justify-between">\n                <div class="menu-name">\u5df2\u9009\u62e9\u56fd\u5bb6</div>\n                <div class="flex flex-row">\n                    <div class="btn-clear-all clickable no-select">\u4e00\u952e\u6e05\u9664</div>\n                    <div class="btn-select-all clickable no-select">\u5168\u90e8\u9009\u62e9</div>\n                </div>\n            </div>\n            <div class="region-selected-container flex flex-row flex-wrap"></div>\n          </div>\n  \n          <div class="list flex">\n            <div class="region-letters-container"></div>\n  \n            <div class="list-box">\n              <div class="region-picker-container-input flex align-center">\n                  <input type="text" id="region-search-input" class="list-search-input" placeholder="\u8bf7\u8f93\u5165\u56fd\u5bb6\u4e2d\u6587\u6216\u82f1\u6587\u540d\u79f0">\n                  <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                          d="M15.3156 14.4344L13.1906 12.3094C14.2406 11.0594 14.875 9.44687 14.875 7.6875C14.875 3.71875 11.6563 0.5 7.6875 0.5C3.71875 0.5 0.5 3.71875 0.5 7.6875C0.5 11.6562 3.71875 14.875 7.6875 14.875C9.44688 14.875 11.0594 14.2406 12.3094 13.1906L14.4344 15.3156C14.5563 15.4375 14.7156 15.5 14.875 15.5C15.0344 15.5 15.1938 15.4375 15.3156 15.3156C15.5625 15.0719 15.5625 14.6781 15.3156 14.4344ZM1.75 7.6875C1.75 4.4125 4.4125 1.75 7.6875 1.75C10.9625 1.75 13.625 4.4125 13.625 7.6875C13.625 10.9625 10.9625 13.625 7.6875 13.625C4.4125 13.625 1.75 10.9625 1.75 7.6875Z"\n                          fill="#82AAD7" />\n                  </svg>\n              </div>\n  \n              <div class="list-container flex flex-row">\n                <div class="list-container-select"></div>\n    \n                <div class="region-picker-container-list region-list-conatiner"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      ';
document.querySelector(f).innerHTML=b;f=document.getElementById("region-picker-container-cancel");b=document.getElementById("region-picker-container-sure");f.addEventListener("click",D);b.addEventListener("click",v);l();m();x();y();z();A();C();p&&u(p);d("init");return h}(a,c)};}).call(this);
